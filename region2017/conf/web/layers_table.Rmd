---
csl: nature.csl
bibliography: bibliography.bib
---

```{r, echo=TRUE}
## Create layers_table.Rmd from EXCEL file for MHI
## like http://ohi-science.org/ohi-global/layers_table.html

library(tidyverse)
library(stringr)

## layers directories locally relative to region2017/conf/web and on github
dir_layers_all <- "conf/web/layers_all/"
dir_layers_gh <- "https://github.com/OHI-Science/mhi/blob/master/region2017/layers"


## read in excel sheet
data_layers <- readr::read_csv("~/github/mhi/prep/data_layers.csv")
names(data_layers)

## rename a few columns
layers_info <- data_layers %>%
  dplyr::select(header_layer = `Data Layer`,
                layer_name   = Name,
                description  = `Brief Description`,
                reference    = Reference,
                dimension    = Goal,
                filename     = File,
                url) %>%
  arrange(layer_name)

info_for_kable <- layers_info %>%
  mutate(layer_column = sprintf("[%s](%s/%s)", header_layer, dir_layers_gh, filename),
         ref_column   = sprintf("[%s](%s)", reference, url)) %>%
  select(layer_column, description, dimension, ref_column)

knitr::kable(info_for_kable)

```

<!---
# Layer	| Description |	Dimension |	References |
#   ------|-------------|-----------|--------------|
#   [data_layers.csv's Data Layer @seltenrich_scaling_2016 |
# data_layers.csv's Brief Description |
#      Dimesntion |
#      Refs
--->
